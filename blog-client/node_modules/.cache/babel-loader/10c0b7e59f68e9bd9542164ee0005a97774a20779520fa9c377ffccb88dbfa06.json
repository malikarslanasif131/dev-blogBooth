{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import\"./components.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PopularPost=function PopularPost(_ref){var popularPosts=_ref.popularPosts;// const [posts, setPosts] = useState([]);\n// const fetchData = async () => {\n//   await axios.get(\"/api/blog/show-all-posts\").then((res) => {\n//     setPosts(res.data.blogs);\n//   });\n// }\n// useEffect(() => {\n//   fetchData();\n// }, []);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:popularPosts&&popularPosts.map(function(post,index){var date=new Date(post===null||post===void 0?void 0:post.createdAt);var options={year:\"numeric\",month:\"long\",day:\"numeric\"};var formattedDate=date.toLocaleDateString(\"en-US\",options);function extractPlainTextFromHtml(html){var parser=new DOMParser();var doc=parser.parseFromString(html,\"text/html\");return doc.body.textContent||\"\";}// Example usage:\nvar postContent=post.content;var plainContent=extractPlainTextFromHtml(postContent);var shortContent=plainContent.substring(0,45);var postTitle=post.title;var plainTitle=extractPlainTextFromHtml(postTitle);var shortTitle=plainTitle.substring(0,20);return/*#__PURE__*/_jsx(\"div\",{className:\"card p-1 mt-3\",children:/*#__PURE__*/_jsx(Link,{className:\"m-1 text-decoration-none text-dark\",to:\"/blogPage/\".concat(post._id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body m-0 p-1\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title text-align-justify-css\",children:shortTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text text-align-justify-css mb-0 font-DecSize-css\",children:shortContent}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted pt-1\",children:formattedDate})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 p-0\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8080/\".concat(post.path),className:\"rounded m-0 p-0\",width:98,height:95,alt:\"...\"})})]})})},index);})});};export default PopularPost;","map":{"version":3,"names":["React","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PopularPost","_ref","popularPosts","children","map","post","index","date","Date","createdAt","options","year","month","day","formattedDate","toLocaleDateString","extractPlainTextFromHtml","html","parser","DOMParser","doc","parseFromString","body","textContent","postContent","content","plainContent","shortContent","substring","postTitle","title","plainTitle","shortTitle","className","to","concat","_id","src","path","width","height","alt"],"sources":["D:/NexT Courses/Node Js/Node Js Practice/Blog MERN Website/My Blog Project MERN/client/src/components/PopularPost.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./components.css\";\r\n\r\nconst PopularPost = ({ popularPosts }) => {\r\n  // const [posts, setPosts] = useState([]);\r\n\r\n  // const fetchData = async () => {\r\n  //   await axios.get(\"/api/blog/show-all-posts\").then((res) => {\r\n  //     setPosts(res.data.blogs);\r\n  //   });\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   fetchData();\r\n  // }, []);\r\n  return (\r\n    <>\r\n      {popularPosts &&\r\n        popularPosts.map((post, index) => {\r\n          const date = new Date(post?.createdAt);\r\n          const options = {\r\n            year: \"numeric\",\r\n            month: \"long\",\r\n            day: \"numeric\",\r\n          };\r\n          const formattedDate = date.toLocaleDateString(\"en-US\", options);\r\n          function extractPlainTextFromHtml(html) {\r\n            const parser = new DOMParser();\r\n            const doc = parser.parseFromString(html, \"text/html\");\r\n            return doc.body.textContent || \"\";\r\n          }\r\n\r\n          // Example usage:\r\n          const postContent = post.content;\r\n          const plainContent = extractPlainTextFromHtml(postContent);\r\n          const shortContent = plainContent.substring(0, 45);\r\n\r\n          const postTitle = post.title;\r\n          const plainTitle = extractPlainTextFromHtml(postTitle);\r\n          const shortTitle = plainTitle.substring(0, 20);\r\n          return (\r\n            <div className=\"card p-1 mt-3\" key={index}>\r\n              <Link\r\n                className=\"m-1 text-decoration-none text-dark\"\r\n                to={`/blogPage/${post._id}`}\r\n              >\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-8\">\r\n                    <div className=\"card-body m-0 p-1\">\r\n                      <h5 className=\"card-title text-align-justify-css\">\r\n                        {shortTitle}\r\n                      </h5>\r\n                      <p className=\"card-text text-align-justify-css mb-0 font-DecSize-css\">\r\n                        {shortContent}\r\n                      </p>\r\n\r\n                      <small className=\"text-muted pt-1\">{formattedDate}</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4 p-0\">\r\n                    <img\r\n                      src={`http://localhost:8080/${post.path}`}\r\n                      className=\"rounded m-0 p-0\"\r\n                      width={98}\r\n                      height={95}\r\n                      alt=\"...\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopularPost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}